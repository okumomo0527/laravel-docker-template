# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
- Eloquent ORMを通じてデータベースから全てのレコードを取得するために使用されます。このメソッドは内部的にSQLの SELECT クエリを実行しています。 SELECT * FROM todos;


### Todoモデルのallメソッドの返り値は何か
- データベースから全てのレコードを取得し、Eloquentコレクションとして返します。クラスのインスタンスで、配列と似たような操作ができるクラスです。


### 配列の代わりにCollectionクラスを使用するメリットは
- Collection クラスは、フィルタリング、マッピング、並べ替えなどの高機能なメソッドが用意されており、配列と比べて強力なデータ操作が可能です。メソッドチェーンが使えて、可読性が高いです。

### view関数の第1・第2引数の指定と何をしているか
- 第1引数にBladeテンプレートのパスを指定し、第2引数にBladeテンプレートに渡すデータの配列を指定しています。


### index.blade.phpの$todos・$todoに代入されているものは何か
- $todosは、Todo::all() メソッドで取得されたコレクション（全てのTodoデータ）です。

- $todo は、@foreach 内で個々のTodoレコードが代入される変数です。


## Todo作成機能

### Requestクラスのallメソッドは何をしているか
- Request::all() は、フォーム送信時に送られた全ての入力データを配列として返します。リクエスト内の全てのキーと値のペアを取得するメソッドです。


### fillメソッドは何をしているか
- モデルの属性を一括で設定するためのメソッドです。配列で渡されたデータを、$fillable に指定された属性に自動的に割り当てます。


### $fillableは何のために設定しているか
- Mass Assignmentを防ぐために、モデルの属性で一括代入が許可されているものを指定します。$fillableに指定されていない属性には、fill() や create() メソッド経由で値を割り当てることができません。


### saveメソッドで実行しているSQLは何か
- 新規作成時、INSERT INTO todos (content, created_at, updated_at) VALUES (?, ?, ?);

- UPDATE todos SET content = ?, updated_at = ? WHERE id = ?;


### redirect()->route()は何をしているか
- 指定された名前付きルートにリダイレクトします。通常、操作後にユーザーを特定のページに移動させるために使われます。


## その他

### テーブル構成をマイグレーションファイルで管理するメリット
- バージョン管理: データベース構造の変更履歴を管理でき、チームで統一した状態を保てます。

- 自動化: コマンドでデータベース構造を簡単に構築・リセットできます。

- 再現性: 環境間で同じテーブル構造を再現できます。


### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
- up() メソッドは php artisan migrate コマンドで呼び出され、テーブルやカラムを作成します。

- down() メソッドは php artisan migrate:rollback コマンドで呼び出され、テーブルやカラムを削除します。


### Seederクラスの役割は何か
- データベースに初期データやテストデータを投入するためのクラスです。


### route関数の引数・返り値・使用するメリット
- 引数: ルート名と、そのルートに渡すパラメータ。
- 返り値: そのルートのURL。
- ルート定義が変更されても、コード内でURLをハードコードせずに動的に生成できるため、メンテナンスが容易になります。


### @extends・@section・@yieldの関係性とbladeを分割するメリット
- @extends: 親テンプレートを指定。
- @section: セクションを定義。
- @yield: 親テンプレート内でセクションの表示位置を指定。
- これにより、テンプレートを再利用し、共通部分を一箇所にまとめて管理できるため、コードの保守が容易になります。


### @csrfは何のための記述か
- フォーム送信時にCSRF攻撃からアプリケーションを守るために、セキュリティトークンを埋め込みます。


### {{ }}とは何の省略系か
- {{ }} は、LaravelのBladeテンプレートにおける エスケープ済みの出力 を行うための記述です。htmlspecialchars() を自動的に適用し、XSS攻撃を防ぐため、HTMLタグなどが文字列として表示されます。
